<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Seasonal plots and climate indexes • CAVAanalytics</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Seasonal plots and climate indexes">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CAVAanalytics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/CAVA.html"><span class="fa fas fa-cloud-sun-rain"></span> CAVA vs other tools</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/more_advanced.html">Climate indexes</a></li>
    <li><a class="dropdown-item" href="../articles/large_areas.html">Computation over large regions</a></li>
    <li><a class="dropdown-item" href="../articles/own_data.html">CAVAanalytics and CMIP6 models</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Risk-team/CAVAanalytics/"><span class="fa fa-github fa-lg"></span> GitHub</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fas fa-history"></span> Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Seasonal plots and climate indexes</h1>
            
      

      <div class="d-none name"><code>more_advanced.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://risk-team.github.io/CAVAanalytics/">CAVAanalytics</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></code></pre></div>
<p>In the <a href="https://risk-team.github.io/CAVAanalytics/articles/Introduction.html">getting
started article</a>, we have already explored some of the fundamental
features of CAVAanalytics. Now, let’s take our understanding to the next
level as we delve into the full potential of CAVAanalytics.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># to download a specific area, set country=NULL and specify xlim and ylim arguments. </span></span>
<span><span class="va">kenya_exmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_data.html">load_data</a></span><span class="op">(</span>path.to.data <span class="op">=</span> <span class="st">"CORDEX-CORE"</span>, country <span class="op">=</span> <span class="st">"Kenya"</span>, variable <span class="op">=</span> <span class="st">"tasmax"</span>, years.proj <span class="op">=</span> <span class="fl">2030</span><span class="op">:</span><span class="fl">2060</span>, years.hist <span class="op">=</span> <span class="cn">NULL</span>, domain <span class="op">=</span> <span class="st">"AFR-22"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="seasonal-plot">Seasonal plot<a class="anchor" aria-label="anchor" href="#seasonal-plot"></a>
</h3>
<p>Creating plots for multiple seasons is very easy with CAVAanalytics.
Simply specify season=list(1:3, 4:6), for example.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/projections.html">projections</a></span><span class="op">(</span><span class="va">kenya_exmp</span>, season <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/plotting.html">plotting</a></span><span class="op">(</span><span class="va">.</span>, plot_titles <span class="op">=</span> <span class="st">"mean tasmax °C"</span>, ensemble <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="more_advanced_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="climate-indicators">Climate indicators<a class="anchor" aria-label="anchor" href="#climate-indicators"></a>
</h3>
<div class="section level4">
<h4 id="how-cavaanalytics-works">How CAVAanalytics works<a class="anchor" aria-label="anchor" href="#how-cavaanalytics-works"></a>
</h4>
<p>CAVAanalytics offers users great flexibility in calculating climate
indicators. To fully understand this functionality, let’s consider a
simple vector of Tmax (maximum temperature) values over a given
period.</p>
<p>As observed, there are two periods during which the Tmax exceeded 35
degrees for at least two consecutive days. CAVAanalytics allows users to
explore several pieces of information in such scenarios. Below is a list
highlighting the types of operations that can be performed using
CAVAanalytics.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">36</span>, <span class="fl">24</span>, <span class="fl">25</span>, <span class="fl">32</span>, <span class="fl">36</span>, <span class="fl">37</span>, <span class="fl">38</span>, <span class="fl">12</span>, <span class="fl">13</span>, <span class="fl">37</span>, <span class="fl">38</span>, <span class="fl">40</span>, <span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># How many days have Tmax values higher than 35 degrees?</span></span>
<span><span class="fu">CAVAanalytics</span><span class="fu">::</span><span class="fu"><a href="../reference/thrs.html">thrs</a></span><span class="op">(</span><span class="va">tmax</span>, uppert<span class="op">=</span><span class="fl">35</span>, lowert<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 8</span></span>
<span><span class="co"># What is the maximum duration of a heatwave, defined as consecutive days with Tmax above 35 degrees?</span></span>
<span><span class="fu">CAVAanalytics</span><span class="fu">::</span><span class="fu"><a href="../reference/thrs_consec.html">thrs_consec</a></span><span class="op">(</span><span class="va">tmax</span>, uppert<span class="op">=</span><span class="fl">35</span>, lowert<span class="op">=</span><span class="cn">NULL</span>, duration<span class="op">=</span><span class="st">"max"</span>, frequency<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span></span>
<span><span class="co"># What is the total number of days with at least two consecutive days having Tmax higher than 35 degrees?</span></span>
<span><span class="fu">CAVAanalytics</span><span class="fu">::</span><span class="fu"><a href="../reference/thrs_consec.html">thrs_consec</a></span><span class="op">(</span><span class="va">tmax</span>, uppert<span class="op">=</span><span class="fl">35</span>, lowert<span class="op">=</span><span class="cn">NULL</span>, duration<span class="op">=</span><span class="fl">2</span>, frequency<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span>
<span></span>
<span><span class="co"># How many heatwaves are there, defined as periods with Tmax exceeding 35 degrees for at least two consecutive days?</span></span>
<span><span class="fu">CAVAanalytics</span><span class="fu">::</span><span class="fu"><a href="../reference/thrs_consec.html">thrs_consec</a></span><span class="op">(</span><span class="va">tmax</span>, uppert<span class="op">=</span><span class="fl">35</span>, lowert<span class="op">=</span><span class="cn">NULL</span>, duration<span class="op">=</span><span class="fl">2</span>, frequency<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="real-examples">Real examples<a class="anchor" aria-label="anchor" href="#real-examples"></a>
</h3>
<p>What if we want to calculate the projected total duration of heat
waves that last for at least 3 consecutive days with a maximum
temperature above 35 degrees? This can be achieved by setting the
threshold (uppert) and specifying consecutive = TRUE and duration = 3.
If you have any questions about the functionality of each argument,
remember to consult the help documentation by typing ?projections.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/projections.html">projections</a></span><span class="op">(</span><span class="va">kenya_exmp</span>, season <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">7</span><span class="op">:</span><span class="fl">9</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>, consecutive<span class="op">=</span><span class="cn">T</span>, duration<span class="op">=</span><span class="fl">3</span>, uppert<span class="op">=</span><span class="fl">35</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/plotting.html">plotting</a></span><span class="op">(</span><span class="va">.</span>, plot_titles <span class="op">=</span> <span class="st">"N.days"</span>, ensemble <span class="op">=</span> <span class="cn">T</span>, palette<span class="op">=</span><span class="fu"><a href="../reference/IPCC_palette.html">IPCC_palette</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"tmp"</span>, divergent <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="more_advanced_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
<p>What if we also wish to determine the projected maximum length of a
heat wave, defined by a consecutive number of days with a maximum
temperature above 35 degrees? This can be achieved by setting the
threshold (uppert) and specifying consecutive = TRUE and duration =
“max”</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/projections.html">projections</a></span><span class="op">(</span><span class="va">kenya_exmp</span>, season <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">7</span><span class="op">:</span><span class="fl">9</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>, consecutive<span class="op">=</span><span class="cn">T</span>, duration<span class="op">=</span><span class="st">"max"</span>, uppert<span class="op">=</span><span class="fl">35</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/plotting.html">plotting</a></span><span class="op">(</span><span class="va">.</span>, plot_titles <span class="op">=</span> <span class="st">"N° days"</span>, ensemble <span class="op">=</span> <span class="cn">T</span>, palette <span class="op">=</span> <span class="fu"><a href="../reference/IPCC_palette.html">IPCC_palette</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"tmp"</span>, divergent <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="more_advanced_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
<p>We could also investigate the projected frequency of heat waves, each
defined as a period with Tmax exceeding 35 degrees for at least three
consecutive days.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">hwvs</span><span class="op">=</span><span class="fu"><a href="../reference/projections.html">projections</a></span><span class="op">(</span><span class="va">kenya_exmp</span>, season <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">7</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>, consecutive<span class="op">=</span><span class="cn">T</span>, duration<span class="op">=</span><span class="fl">3</span>, uppert<span class="op">=</span><span class="fl">35</span>, frequency<span class="op">=</span><span class="cn">T</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="../reference/plotting.html">plotting</a></span><span class="op">(</span><span class="va">hwvs</span>, plot_titles <span class="op">=</span> <span class="st">"N° of hw"</span>, ensemble <span class="op">=</span> <span class="cn">T</span>, <span class="fu"><a href="../reference/IPCC_palette.html">IPCC_palette</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"tmp"</span>, divergent <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="more_advanced_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Riccardo Soldan, Rodrigo Manzanas, Ana Casanueva.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
