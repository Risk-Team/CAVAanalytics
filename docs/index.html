<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CAVAanalytics is an operational R library for climate services, providing direct and easy access to CORDEX-CORE models and reanalysis datasets">
<title>Operational R package for climate services • CAVAanalytics</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Operational R package for climate services">
<meta property="og:description" content="CAVAanalytics is an operational R library for climate services, providing direct and easy access to CORDEX-CORE models and reanalysis datasets">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">CAVAanalytics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--guides">
    <span class="fas fa fas fa-book"></span>
     
    guides
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--guides">
    <a class="dropdown-item" href="articles/Introduction.html">start here</a>
    <a class="dropdown-item" href="articles/more_advanced.html">climate indexes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">
    <span class="fa fa fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Risk-team/CAVAanalytics/">
    <span class="fa fa fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">
    <span class="fa fa fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header"><h1 align="center">
<img src="reference/figures/sticker.png" width="300" height="300" align="center"><br><h4 align="center">
CAVAanalytics: Operational R package for climate services
</h4>
<br><div align="center">
<p><img src="https://img.shields.io/github/v/release/Risk-team/CAVAanalytics?include_prereleases" alt="GitHub R package version" style="display: inline-block;"><img src="https://img.shields.io/github/commits-since/Risk-team/CAVAanalytics/v1.0.0-alpha?include_prereleases" alt="GitHub Commits Since" style="display: inline-block;"><img src="https://img.shields.io/github/release-date-pre/Risk-team/CAVAanalytics" alt="release date" style="display: inline-block;"><a href="http://hits.dwyl.com/Risk-team/CAVAanalytics" class="external-link"><img src="http://hits.dwyl.com/Risk-team/CAVAanalytics.svg"></a></p>
</div>
</h1></div>
<div class="section level4">
<h4 id="updates">**Updates<a class="anchor" aria-label="anchor" href="#updates"></a>
</h4>
<p><strong>Current available CORDEX domains are: AFR-22, SEA-22, EAS-22. Install version 2.0.1 to be able to work with the new domains!</strong></p>
<p><strong>Current available observational datasets: W5E5, ERA5</strong></p>
<p><strong>You can report <a href="https://github.com/Risk-Team/CAVAanalytics/issues/2" class="external-link">issues</a>. We will try to help but first read carefully the current website</strong></p>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>CAVA (Climate and Agriculture Risk Visualization and Assessment) is a framework and approach to climate services developed jointly by <strong>The Food and Agriculture Organization of the United Nations (FAO), the University of Cantabria, Predictia and the University of Cape Town</strong>. CAVA makes use of climate and impact model outputs to inform users about future climate and impacts on agriculture. Conceptually, CAVA is organised into <strong>two modules</strong>.</p>
<p><strong>Climate module</strong>: Provision of climate information from regional climate model outputs (CORDEX-CORE and reanalyses datasets)</p>
<p><strong>Agriculture module</strong>: Provision of impact information from the Inter-Sectoral Impact Model Intercomparison Project (ISIMIP3)</p>
<p>Climate modeling is a complex subject but a very good and gentle introduction to this topic is given by Andy Pitman and colleagues and can be downloaded <a href="https://climateextremes.org.au/wp-content/uploads/Climate-modelling-an-overview-The-ARC-Centre-of-Excellence-for-Climate-Extremes.pdf" class="external-link">here</a>. You are strongly encouraged to read it if you are new to this topic.</p>
<div class="section level3">
<h3 id="climate-module">Climate module<a class="anchor" aria-label="anchor" href="#climate-module"></a>
</h3>
<p>CAVA makes use of outputs from Regional Climate Models. These models are used to downscale Global Climate Models at higher spatial resolution. The project in charge of providing Regional Climate Models is called CORDEX (Coordinated Regional Climate Downscaling Experiment). The outputs of these models are available for specific geographical areas around the world, called domains. More information about the data behind CAVA can be found <a href="https://risk-team.github.io/CAVAanalytics/articles/Introduction.html">here</a>.</p>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="center"><img src="https://github.com/Risk-Team/CAVAanalytics/assets/40058235/a8e85a4b-86e5-4fdf-ad18-755df4264aeb" alt="CORDEX domains"></th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><em>Boundaries of the fourteen official CORDEX domains. <a href="https://cordex.org/data-access/regional-climate-change-simulations-for-cordex-domains/" class="external-link">Source</a></em></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="agriculture-module">Agriculture module<a class="anchor" aria-label="anchor" href="#agriculture-module"></a>
</h3>
<p>CAVA is plannng to provide visualziation and streamline access to the impact model outputs of <a href="https://www.isimip.org/about/" class="external-link">ISIMIP</a>. This module is currently under development</p>
</div>
</div>
<div class="section level2">
<h2 id="more-about-cava">More about CAVA<a class="anchor" aria-label="anchor" href="#more-about-cava"></a>
</h2>
<p>Traditionally, the approach to climate science consisted of providing means for visualizing climate model outputs and information (e.g IPCC Interactive Atlas) or access points to the raw data (ESGF, Copernicus). These two approaches mainly serve basic users (the former) or advanced users (the latter).</p>
<p>CAVA (Climate and Agriculture Risk Visualization and Assessment) is a framework and approach to climate services developed jointly by <strong>The Food and Agriculture Organization of the United Nations (FAO), the University of Cantabria, Predictia and the University of Cape Town</strong> that aim at serving both standard users (users who need a GUI) and intermediate users (users with some programming skills who needs easy access to climate data and downstream analyses).</p>
<p>Therefore, <a href="https://fao-cava.predictia.es/" class="external-link">CAVA is made of a Platform (GUI)</a>, which is freely accessible and satisfy the needs of most standard users interested in climate (and climate change impacts in agriculture) and an R package (<a href="https://risk-team.github.io/CAVAanalytics/"><strong>CAVAanalytics</strong></a>), which empowers users with direct access to high-resolution climate model outputs and means for easily working and calculating climatic indicators on multi-model ensembles.</p>
<p>CAVAanalytics can be used locally (installation through GitHub), remotely (registered users can access the University of Cantabria JupyterHub) and through a Docker image.</p>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="center"><img src="https://github.com/Risk-Team/CAVAanalytics/assets/40058235/26a03018-8911-4fbb-b729-1966147e6633" alt="framework"></th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><em>CAVA framework. CAVA can be used through a graphic user interface (CAVA Platform) or through the CAVAanalytics R package. The package can be used locally (GitHub installation), remotely (University of Cantabria JupyterHub), or locally but through a Docker image to solve dependencies issues. CAVA Platform offers three types of automatic reports, namely climate, custom climate indexes, and agriculture. The climate and agroclimatic reports are produced with CAVAanalytics.</em></td>
</tr></tbody>
</table>
</div>
<div class="section level2">
<h2 id="cavaanalytics">CAVAanalytics<a class="anchor" aria-label="anchor" href="#cavaanalytics"></a>
</h2>
<p><a href="https://risk-team.github.io/CAVAanalytics/"><strong>CAVAanalytics</strong></a> is an operational package for climate services. It offers a consistent framework to load, analyze, calculate indicators, and visualize results for multi-model ensembles (this usually happens when working with climate models, but impact model results can also be analysed with CAVAanalytics). <a href="https://risk-team.github.io/CAVAanalytics/"><strong>CAVAanalytics</strong></a> provides an access point for CORDEX-CORE simulations at 25 Km resolution already interpolated (EPSG:4326) plus the W5E5 and ERA5 datasets. CAVAanalytics can be seen as a wrapper of several packages, but the main engine for loading and processing climate model outputs is the <a href="https://github.com/SantanderMetGroup/climate4R" class="external-link">climate4R framework</a>, applied with a tidyverse approach.</p>
<p><strong>CAVAanalytics logic will also be applied to ISIMIP impact models</strong></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Based on how you want to use CAVAanalytics, there are three options.</p>
<div class="section level3">
<h3 id="id_1-locally">1) Locally<a class="anchor" aria-label="anchor" href="#id_1-locally"></a>
</h3>
<p><strong>If you are new to climate4R</strong>, You need to first install <strong>rJava</strong>. This installation can be problematic. Follow the instructions below</p>
<p><strong>Windows</strong></p>
<p><a href="https://cimentadaj.github.io/blog/2018-05-25-installing-rjava-on-windows-10/installing-rjava-on-windows-10/" class="external-link">Installing rJava in Windows</a></p>
<p><strong>Linux and macOS</strong></p>
<p><a href="https://github.com/SantanderMetGroup/loadeR/wiki/Installation" class="external-link">Installing rJava in Linux and macOS</a></p>
<p>If the installation of rJava is successful, you should be able to load the library from Rstudio.</p>
<pre><code><span><span class="co"># This should not give any error</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.rforge.net/rJava/" class="external-link">rJava</a></span><span class="op">)</span></span></code></pre>
<p>You can now install CAVAanalytics and its main packages</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SantanderMetGroup/loadeR.java"</span>,</span>
<span>                 <span class="st">"SantanderMetGroup/climate4R.UDG"</span>,</span>
<span>                 <span class="st">"SantanderMetGroup/loadeR"</span>,</span>
<span>                 <span class="st">"SantanderMetGroup/transformeR"</span>,</span>
<span>                 <span class="st">"SantanderMetGroup/downscaleR"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Risk-Team/CAVAanalytics"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="id_2-jupyterhub">2) JupyterHub<a class="anchor" aria-label="anchor" href="#id_2-jupyterhub"></a>
</h3>
<p>You can request access to the University of Cantabria JupyterHub, where CAVAanalytics is already installed. This will give you access to computational resources and you would be able to perform your climate analysis using a Jupyter Notebook environment. When using JupyterHub you will be using data physically stored at the Cantabria server. If you would like to access these resources, you are welcome to contact <a href="mailto:riccardo.soldan@fao.org" class="email">riccardo.soldan@fao.org</a> or <a href="mailto:Hideki.Kanamaru@fao.org" class="email">Hideki.Kanamaru@fao.org</a> stating your intended usage type.</p>
</div>
<div class="section level3">
<h3 id="id_3-docker">3) Docker<a class="anchor" aria-label="anchor" href="#id_3-docker"></a>
</h3>
<p>The Docker image is available at Docker.io, rso9192/cava. This docker image is built on top of <a href="https://davetang.org/muse/2021/04/24/running-rstudio-server-with-docker/" class="external-link">rocker/rstudio</a></p>
<div class="section level4">
<h4 id="linux">Linux<a class="anchor" aria-label="anchor" href="#linux"></a>
</h4>
<p>Open the terminal</p>
<pre><code># if not already installed
sudo apt-get install snapd
# if not already installed
sudo snap install docker

sudo docker pull docker.io/rso9192/cava:version2.0.1

sudo docker run --rm \
           -p 8888:8787 \
           -e PASSWORD=password \
           -v /path/to/local/directory:/home \
           rso9192/cava:version2.0.1

</code></pre>
<p>Replace <strong>/path/to/local/directory</strong> with the local directory on your host machine where you want to save your plots or data. For example, you can create a folder on your Desktop called CAVA_results. Then, you would run the above command as:</p>
<pre><code>sudo docker run --rm \
           -p 8888:8787 \
           -e PASSWORD=password \
           -v /home/Desktop/CAVA_results:/home \
           rso9192/cava:version2.0.1</code></pre>
<p>Now open your favorite browser and type <strong><a href="http://localhost:8888/" class="external-link uri">http://localhost:8888/</a></strong>. You should see a login page: enter the <strong>username “rstudio”</strong> and <strong>password “password”</strong> to login and that’s it! You can now use CAVAanalytics through Rstudio server.</p>
</div>
<div class="section level4">
<h4 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h4>
<p>If you are using Windows, you can install <a href="https://docs.docker.com/desktop/install/windows-install/" class="external-link">Docker Desktop</a> first. Note that Docker Desktop would require the installation of WSL (Windows Subsystem for Linux). To do that, open a Command Prompt (as administrator) and run</p>
<pre><code><span><span class="va">wsl</span> <span class="op">-</span><span class="op">-</span><span class="va">install</span></span></code></pre>
<p>This will instal the Windows Subsystem for Linux in your computer. Then <strong>start the Docker app</strong> and open an ubuntu terminal and run</p>
<pre><code>sudo docker pull docker.io/rso9192/cava:version2.0.1
# ignore the messages about login</code></pre>
<p>Now run your image as below. Remember to replace <strong>/path/to/local/directory</strong> with the local directory on your host machine where you want to save your plots or data. For example, you can create a folder on your Desktop called CAVA_results. Then, you could run the above command as:</p>
<pre><code>sudo docker run --rm \
           -p 8888:8787 \
           -e PASSWORD=password \
           -v /mnt/c/Users/my_username/Desktop/CAVA_results:/home \
           rso9192/cava:version2.0.1</code></pre>
<p>Now open your favorite browser and type <strong><a href="http://localhost:8888/" class="external-link uri">http://localhost:8888/</a></strong>. You should see a login page: enter the <strong>username “rstudio”</strong> and <strong>password “password”</strong> to login and that’s it! You can now use CAVAanalytics through Rstudio server.</p>
</div>
<div class="section level4">
<h4 id="mac">Mac<a class="anchor" aria-label="anchor" href="#mac"></a>
</h4>
<p>If you are using a Mac, you first need to install <a href="https://docs.docker.com/desktop/install/mac-install/" class="external-link">Docker desktop for Mac</a>.</p>
<p>Then open a terminal and while Docker Desktop is open, run:</p>
<pre><code>sudo docker pull docker.io/rso9192/cava:version2.0.1</code></pre>
<p>At this point, you can run the Docker image with the below comand.</p>
<pre><code>sudo docker run --rm \
           -p 8888:8787 \
           -e PASSWORD=password \
           -v /path/to/local/directory:/home \
           rso9192/cava:version2.0.1</code></pre>
<p>Remember to replace <strong>/path/to/local/directory</strong> with the local directory on your host machine where you want to save your plots or data. Now open your favorite browser and type <strong><a href="http://localhost:8888/" class="external-link uri">http://localhost:8888/</a></strong>. You should see a login page: enter the <strong>username “rstudio”</strong> and <strong>password “password”</strong> to login and that’s it! You can now use CAVAanalytics through Rstudio server.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="quick-example">Quick example<a class="anchor" aria-label="anchor" href="#quick-example"></a>
</h2>
<p>The idea behind CAVAanalytics is to divide the process of working with multiple models into 3 steps. <strong>Firstly</strong> download or upload data (multiple models), <strong>secondly</strong> perform the intended analysis, <strong>thirdly</strong> visualize the results. One nice thing about step 1, is that CAVAanalytics will automatically bind multiple members to create the multimodel ensemble and check temporal consistency. It will also automatically convert units (e.g. Kelvin into Celsius).</p>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="center"><img src="https://user-images.githubusercontent.com/40058235/199256415-ed32c42b-e2f8-48e0-b4fe-558de6612038.png" alt="Framework"></th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><em>CAVAanalytics steps</em></td>
</tr></tbody>
</table>
<p>Below we give an example of how you can use CAVAanalytics to easily retrieve climate information (both past and future). More examples are available from the <a href="https://risk-team.github.io/CAVAanalytics/articles/Introduction.html">CAVAanalytics website</a>.</p>
<p><strong>To load CORDEX-CORE data stored remotely</strong>, set path.to.data to “CORDEX-CORE” and specify the domain. This will load CORDEX-CORE simulations. Similarly, when path.to.obs is set to W5E5, you are accessing the dataset stored remotely.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://risk-team.github.io/CAVAanalytics/">CAVAanalytics</a></span><span class="op">)</span></span>
<span><span class="co"># 1st step</span></span>
<span> <span class="va">remote.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_data.html">load_data</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"Sudan"</span>, variable<span class="op">=</span><span class="st">"tasmax"</span>,</span>
<span> years.hist<span class="op">=</span><span class="fl">1990</span><span class="op">:</span><span class="fl">2000</span>, years.proj<span class="op">=</span><span class="fl">2050</span><span class="op">:</span><span class="fl">2060</span>,</span>
<span> path.to.data <span class="op">=</span> <span class="st">"CORDEX-CORE"</span>, aggr.m<span class="op">=</span><span class="st">"mean"</span>, domain<span class="op">=</span><span class="st">"AFR-22"</span><span class="op">)</span></span>
<span><span class="co"># 2nd step</span></span>
<span> <span class="fu"><a href="reference/climate_change_signal.html">climate_change_signal</a></span><span class="op">(</span><span class="va">remote.data</span>, season<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>, bias.correction <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span><span class="co"># 3rd step</span></span>
<span> <span class="fu"><a href="reference/plotting.html">plotting</a></span><span class="op">(</span><span class="va">.</span>, ensemble<span class="op">=</span><span class="cn">TRUE</span>, plot_titles <span class="op">=</span> <span class="st">"Temperature change (°C)"</span>,</span>
<span> palette<span class="op">=</span><span class="fu"><a href="reference/IPCC_palette.html">IPCC_palette</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"tmp"</span>, divergent <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>, bins<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="center"><img src="https://github.com/Risk-Team/CAVAanalytics/assets/40058235/3dce772c-51e9-4cd1-9ad4-5ddfcdf75698" alt="Rplot01"></th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><em>Average annual projected change in maximum temperature compared to the 1990-2000 baseline period in Sudan</em></td>
</tr></tbody>
</table>
</div>
<div class="section level2">
<h2 id="python">Python<a class="anchor" aria-label="anchor" href="#python"></a>
</h2>
<p><strong>Firstly, why Python?</strong></p>
<p>While CAVAanalytics was built on top of R packages, such as <code>climate4R</code> and <code>tidyverse</code> to allow users to focus on results rather than the code, R does not leverage the same level of “computational efficiency” as Python. This is mainly because Python offers out-of-memory computation for arrays thanks to the integration between <code>xarray</code> and <code>dask</code>. R does not have this feature for arrays, which is typically the way in which climate data is used. This means that CAVAanalytics largely works on memory (RAM), effectively limiting the geographical area in which analyses can be performed (<a href="https://risk-team.github.io/CAVAanalytics/reference/index.html">check out the memory-efficient functions available from CAVAanalytics though</a>). CAVAanalytics would not allow users to perform analyses for entire CORDEX domains very efficiently because it would need a lot of RAM. However, CAVAanalytics was mainly developed for country-level assessment and never conceived to be used for large-scale climate data analyses. This is where Python comes in. The regridded CORDEX-CORE models and all observational datasets used by CAVAanalytics can also be accessed using Python. <strong>The benefit of using our data is that we provide one URL per model for all supported variables and that we have already regridded CORDEX-CORE models, making retrieving the data extremely easy</strong>. See below an example:</p>
<pre><code>import xarray as xr

# URL to ERA5 data
obs_url =  "https://data.meteo.unican.es/thredds/dodsC/copernicus/cds/ERA5_0.25"
# URL to W5E5 V2 data
obs_url =    "https://data.meteo.unican.es/thredds/dodsC/mirrors/W5E5/W5E5_v2"
# Open dataset
ds = xr.open_dataset(obs_url)</code></pre>
<p>The list of available CORDEX-CORE models can be accessed with:</p>
<pre><code>import pandas as pd

csv_url = "https://data.meteo.unican.es/inventory.csv"
data = pd.read_csv(csv_url)

# Drop rows with missing values in the 'activity' column
data = data.dropna(subset=['activity'])

filtered_data = data[data['activity'].str.contains("FAO")]
</code></pre>
<p>A dedicated function to automatically perform these steps will be made available soon.</p>
</div>
<div class="section level2">
<h2 id="applications">Applications<a class="anchor" aria-label="anchor" href="#applications"></a>
</h2>
<p>CAVAanalytics can be used by anyone interested in simple and more advanced climate change analyses. You are also free to make use of the data as input for impact models.</p>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CAVAanalytics</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Riccardo Soldan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2583-5840" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Rodrigo Manzanas <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-0001-3448" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Ana Casanueva <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Riccardo Soldan, Rodrigo Manzanas, Ana Casanueva.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
