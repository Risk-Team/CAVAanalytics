[{"path":"https://risk-team.github.io/CAVAanalytics/articles/Introduction.html","id":"loading-cordex-core-data","dir":"Articles","previous_headings":"","what":"Loading CORDEX-CORE data","title":"More about CAVAanalytics","text":"automatically downloading CORDEX-CORE simulations alongside observational dataset W5E5 Kenya. can see, extremely simple. see work locally available models another vignette.Note process can take , depending size country number years specified can explore output using attributes(kenya_exmp).","code":"# to download a specific area, set country=NULL and specify xlim and ylim arguments.  kenya_exmp <- load_data(path.to.data = \"CORDEX-CORE\", country = \"Kenya\", variable = \"tasmax\",  years.proj = 2030:2055, years.hist = 1980:2005, domain = \"AFR-22\", path.to.obs = \"ERA5\") # the main output of the loading function is a tibble with list column containing all the downloaded data class(kenya_exmp[[1]]) #> [1] \"tbl_df\"     \"tbl\"        \"data.frame\" colnames(kenya_exmp[[1]]) #> [1] \"experiment\"  \"models_mbrs\" \"obs\" kenya_exmp[[1]]$experiment #> [1] \"historical\" \"rcp26\"      \"rcp85\"  # the column models_mbrs stands for model members. The structure of this element comes from the loadeR package. The data is contained in the data element, and as you can see, it has 6 members. CAVAanalytics automatically binds together multiple models and checks for temporal consistency. dim(kenya_exmp[[1]]$models_mbrs[[1]]$Data) #> [1]    6 9278   42   33"},{"path":"https://risk-team.github.io/CAVAanalytics/articles/Introduction.html","id":"observations","dir":"Articles","previous_headings":"","what":"Observations","title":"More about CAVAanalytics","text":"can examine historical data using loaded observational dataset, , case, ERA5. case, looking mean historical maximum temperature whole year.  many days 40 °C occurred average?","code":"kenya_obs <- observations(kenya_exmp, season=1:12)  plotting(kenya_obs, plot_titles = \"Mean tasmax\") kenya_obs.40 <- observations(kenya_exmp, season=1:12, uppert=40)  plotting(kenya_obs.40, plot_titles = \"N.days > 40\")"},{"path":"https://risk-team.github.io/CAVAanalytics/articles/Introduction.html","id":"projections","dir":"Articles","previous_headings":"","what":"Projections","title":"More about CAVAanalytics","text":"want look projected maximum temperature Kenya 2030-2055 time period? easy CAVAanalytics:   certain cases, focusing solely mean temperatures might provide insights need. Instead, might interested understanding frequency specific conditions projected occur. instance, may want determine number days maximum temperatures 35 °C.  dealing model biases, CAVAanalytics offers straightforward solution automatically implementing bias correction using empirical quantile mapping method. process allows us correct discrepancies observed data model outputs. essential consider bias correction W5E5 dataset result change spatial resolution 50 Km. maintain original CORDEX-CORE resolution, crucial perform bias correction using ERA5 instead","code":"# you can specify the season. In this case we are looking at the whole year proj_kenya <- projections(kenya_exmp, season=1:12)  # stat can take either mean or sd. It is used in combination with ensemble=T. Default is always mean plotting(proj_kenya, ensemble=T, stat=\"mean\", plot_titles = \"mean tasmax\") plotting(proj_kenya, ensemble=F, stat=\"mean\", plot_titles = \"mean tasmax\") proj_kenya_35 <- projections(kenya_exmp, season=1:12, uppert=35)  plotting(proj_kenya_35, ensemble=T, plot_titles = \"N.days > 35\", palette=c(\"white\", \"orange\", \"red\", \"darkred\")) # bias correction is applied with the widely used empirical quantile method proj_kenya_35bc <- projections(kenya_exmp, season=1:12, bias.correction = T, uppert=35)  plotting(proj_kenya_35bc, ensemble=T,  plot_titles = \"N.days > 35 after bc\", palette=c(\"white\", \"orange\", \"red\", \"darkred\"), legend_range = c(0, 320))"},{"path":"https://risk-team.github.io/CAVAanalytics/articles/Introduction.html","id":"climate-change-signal","dir":"Articles","previous_headings":"","what":"Climate change signal","title":"More about CAVAanalytics","text":"analyzing future periods can beneficial, instances prioritize understanding delta changes, represent relative increase decrease mean maximum temperatures compared baseline. CAVAanalytics facilitates analysis well.","code":"ccs_kenya <- climate_change_signal(kenya_exmp, season=1:12)  plotting(ccs_kenya, ensemble=F, plot_titles = \"Mean tasmax change\", legend_range = c(-3, 3), palette = c(\"blue\", \"cyan\", \"green\", \"white\", \"yellow\" ,\"orange\", \"red\"))"},{"path":"https://risk-team.github.io/CAVAanalytics/articles/Introduction.html","id":"trends","dir":"Articles","previous_headings":"","what":"Trends","title":"More about CAVAanalytics","text":"examining delta changes absolute values projections provides valuable information, may offer insights temporal trends. However, using ‘trends’ function CAVAanalytics allows us address limitation. instance, can determine Kenya experienced projected experience noteworthy rise yearly maximum temperatures.  can look trend future period well changing observation argument FALSE  Another feature trends function can look global significance ensemble. plot shows number models agrees certain change (increase decrease) global p.value calculated based manylm function mvabund.  can visualize results spatially, can also look temporal trends. case, general additive model using cubic regression spline applied better capture non-linear patterns.  addition performing spatial averages visualizing trends, can gain valuable insights examining distribution annual mean tasmax (maximum temperature) across Kenya using specified frequencies, denoted ‘TRUE.’ approach particularly valuable many analyses tend aggregate data either spatially temporally, potentially obscuring certain patterns. utilizing ‘frequencies=T’ option, ensure comprehensive understanding spatial temporal attributes, allowing us uncover hidden patterns data.”","code":"# the observation argument allows us to study trends for the future or for the past. Note that for observation = T, we need to have specified path.to.obs because this option does not work with the historical experiment of climate models but with observation  trd_kenya.obs <- trends(kenya_exmp, season=1:12,observation = T)  plotting(trd_kenya.obs, ensemble=F, plot_titles = \"°C/year\", frequencies = F, spatial_aggr = F) trd_kenya.prj <- trends(kenya_exmp, season=1:12,observation = F)  plotting(trd_kenya.prj, ensemble=F, plot_titles = \"°C/year\", frequencies = F, spatial_aggr = F) plotting(trd_kenya.prj, ensemble=T, plot_titles = \"N. members direction change\", frequencies = F, spatial_aggr = F, palette = c(\"blue\", \"green\", \"white\", \"yellow\", \"red\")) plotting(trd_kenya.prj, ensemble=T, plot_titles = \"°C\", spatial_aggr = T, frequencies = F) plotting(trd_kenya.prj, ensemble=T, spatial_aggr = F, frequencies = T, n.groups = 2)"},{"path":"https://risk-team.github.io/CAVAanalytics/articles/more_advanced.html","id":"composite-seasonal-plot","dir":"Articles","previous_headings":"","what":"Composite seasonal plot","title":"The power of patchwork with CAVAanalytics","text":"plots legends, thus might want collect .  Now add previous seasonal plot overall trends similar manner, composite plots can made, example combine different time frames instead different seasons.","code":"# Here we use map from purrr to create seasonal plots for projections. Remember that the output of plotting is a ggplot object, hence you can add anything to it or change the scale, theme, etc  sns_proj <- purrr::map(list(1:3, 4:6, 7:9, 10:12), ~ projections(kenya_exmp, season = .x) %>%   plotting(., plot_titles = \"mean tasmax °C\", ensemble = T, legend_range = c(20, 40))+     ggtitle(paste0(\"Season \", glue::glue_collapse(.x, \"-\")))+ # add title     theme(plot.title = element_text(hjust = 0.5))) # center title  wrap_plots(sns_proj) (composite <- wrap_plots(sns_proj)+plot_layout(guides = \"collect\") & theme(legend.position = 'bottom')) ind.models <- trends(kenya_exmp, season = 1:12, observation = F) %>%   plotting(., plot_titles = \"°C/year\", spatial_aggr = T, frequencies = F, ensemble=T, palette = c(\"blue\", \"red\"))+   ggtitle(\"Season 1-12\")+ # add title   theme(plot.title = element_text(hjust = 0.5))  # center title  composite/ind.models"},{"path":"https://risk-team.github.io/CAVAanalytics/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Riccardo Soldan. Author, maintainer. Rodrigo Manzanas. Author. Ana Casanueva. Author. Hideki Kanamaru. Contributor. Jorge Alvar-Beltrán. Contributor. Arianna Gialletti. Contributor.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Soldan R, Manzanas R, Casanueva (2023). CAVAanalytics: Easily process visualize multimodel ensembles focus climate models. R package version 1.1.2, https://risk-team.github.io/CAVAanalytics/.","code":"@Manual{,   title = {CAVAanalytics: Easily process and visualize multimodel ensembles with a focus on climate models},   author = {Riccardo Soldan and Rodrigo Manzanas and Ana Casanueva},   year = {2023},   note = {R package version 1.1.2},   url = {https://risk-team.github.io/CAVAanalytics/}, }"},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"what-is-cava","dir":"","previous_headings":"","what":"What is CAVA?","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"CAVA (Climate Agriculture Risk Visualization Assessment) framework approach analysis visualization climate data developed jointly Food Agriculture Organization United Nations (FAO) University Cantabria. CAVA made Platform (GUI), freely accessible satisfy needs standard users interested climate models R package (CAVAanalytics), allows remote access high-resolution climate information unified approach working NetCDF files general. CAVAanalytics can used locally (installation GitHub), remotely (registered users can access University Cantabria JupyterHub) Docker image. CAVA (Platform Analytics) officially launched summer 2023, dedicated workshops. updates currently underway, particular, related CAVA Platform interface","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"cavaanalytics","dir":"","previous_headings":"","what":"CAVAanalytics","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"CAVAanalytics package offers consistent framework load, analyze, visualize multi-model ensembles (usually happens working climate models, impact models can also analysed CAVAanalytics). CAVAanalytics provides access point CORDEX-CORE simulations 25 Km resolution already interpolated (EPSG:4326) plus W5E5 ERA5 datasets. CAVAanalytics can seen wrapper several packages, main engine loading processing climate models climate4R framework, applied tidyverse approach. CAVAanalytics developed climate models mind, can used NetCDF file, like multiple impact models (e.g ISIMIP) data locally available.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"Based want use CAVAanalytics, three options.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"id_1-locally","dir":"","previous_headings":"Installation","what":"1) Locally","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"new climate4R, install main packages first. can possible installation loadR.java fails. , look loadR main page wiki page solve issue. loadR.java depends rJava installation can troublesome.","code":"install.packages(c(\"rJava\", \"devtools\"))  remotes::install_github(c(\"SantanderMetGroup/loadeR.java\",                  \"SantanderMetGroup/climate4R.UDG\",                  \"SantanderMetGroup/loadeR\",                  \"SantanderMetGroup/transformeR\",                  \"SantanderMetGroup/downscaleR\")) install_github(\"Risk-Team/CAVAanalytics\")"},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"id_2-jupyterhub","dir":"","previous_headings":"Installation","what":"2) JupyterHub","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"can request access University Cantabria JupyterHub, CAVAanalytics already installed. give access computational resources able perform climate analysis using Jupyter Notebook environment. using JupyterHub using data physically stored Cantabria server. like access resources, welcome contact riccardo.soldan@fao.org Hideki.Kanamaru@fao.org stating intended usage type.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"id_3-docker","dir":"","previous_headings":"Installation","what":"3) Docker","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"Docker image available Docker.io, rso9192/cava. docker image built top rocker/rstudio","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"linux","dir":"","previous_headings":"Installation > 3) Docker","what":"Linux","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"Now open favourite browser type http://localhost:8888/. see login page: enter username “rstudio” password “password” login ’s ! can now use CAVAanalytics Rstudio server.","code":"sudo docker pull docker.io/rso9192/cava:version1.1  sudo docker run --rm \\            -p 8888:8787 \\            -e PASSWORD=password \\            rso9192/cava:version1.1"},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"windows","dir":"","previous_headings":"Installation > 3) Docker","what":"Windows","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"using Windows, can install Windows subsystem Linux WSL. can run commands. Otherwise, can install Docker Desktop.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"quick-example","dir":"","previous_headings":"","what":"Quick example","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"idea behind CAVAanalytics divide process working multiple models 3 steps. Firstly download upload data (multiple models), secondly perform intended analysis, thirdly visualize results. One nice thing step 1, CAVAanalytics automatically bind multiple members create multimodel ensemble check temporal consistency. also automatically convert units (e.g. Kelvin Celsius). give example can use CAVAanalytics easily retrieve climate information (past future). load CORDEX-CORE data stored remotely, set path..data “CORDEX-CORE” specify domain. load CORDEX-CORE simulations. Similarly, path..obs set W5E5, accessing dataset stored remotely.","code":"library(CAVAanalytics)   # 1st step remote.data <- load_data(country = \"Sudan\", variable=\"tasmax\", years.hist=1995, years.proj=2050:2055,               path.to.data = \"CORDEX-CORE\", aggr.m=\"mean\", domain=\"AFR-22\")   # 2nd step   projections(remote.data, season=1:12, bias.correction = F) %>%    # 3rd step   plotting(., ensemble=FALSE, plot_titles = \"Average tasmax\")"},{"path":"https://risk-team.github.io/CAVAanalytics/index.html","id":"applications","dir":"","previous_headings":"","what":"Applications","title":"Easily process and visualize multimodel ensembles with a focus on climate models","text":"CAVAanalytics used Risk-team FAO lead development climate change impact potential assessments Green Climate Fund (GCF). Nonetheless, CAVAanalytics can used anyone interested simple advanced climate change analyses retrieving CORDEX-CORE data used impact models.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/C4R_to_CAVA.html","id":null,"dir":"Reference","previous_headings":"","what":"Converting C4R lists into CAVAanalytics list — C4R_to_CAVA","title":"Converting C4R lists into CAVAanalytics list — C4R_to_CAVA","text":"Converting series C4R lists (output loadeR::loadeGridData) CAVAanalytics list","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/C4R_to_CAVA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converting C4R lists into CAVAanalytics list — C4R_to_CAVA","text":"","code":"C4R_to_CAVA(obs = NULL, projections, historical = NULL)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/C4R_to_CAVA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converting C4R lists into CAVAanalytics list — C4R_to_CAVA","text":"obs default NULL. List containing C4R list. Example list(dataset) dataset C4R list projections named list containing list C4R lists NULL. example, list(rcp26=list(mod_1, mod_2), rcp85= list(mod_1, mod_2)) mod_1 mod_2 C4R lists. historical list containing list C4R lists, one per model NULL. example, list(list(mod_1, mod_2)) mod_1 mod_2 C4R lists.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/CAVAanalytics.html","id":null,"dir":"Reference","previous_headings":"","what":"CAVAanalytics Package — CAVAanalytics","title":"CAVAanalytics Package — CAVAanalytics","text":"Contains functions load visualize climate models","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/CAVAanalytics.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"CAVAanalytics Package — CAVAanalytics","text":"Riccardo Soldan riccardosoldan@hotmail.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/climate_change_signal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculation of climate change signal — climate_change_signal","title":"Calculation of climate change signal — climate_change_signal","text":"Automatically computes climate change signal","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/climate_change_signal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculation of climate change signal — climate_change_signal","text":"","code":"climate_change_signal(   data,   uppert = NULL,   lowert = NULL,   season,   consecutive = F,   duration = \"max\",   bias.correction = F,   n.sessions = 1 )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/climate_change_signal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculation of climate change signal — climate_change_signal","text":"data output load_data uppert numeric length=1, upper threshold lowert numeric length=1, lower threshold season Numerical, seasons select. example, 1:12 consecutive logical, use conjunction lowert uppert duration character, either \"max\" \"total\" bias.correction logical n.sessions numeric, number sessions use, default one. Parallelisation can useful multiple scenarios used (RCPS, SSPs). However, note parallelising increase RAM usage","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/climate_change_signal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculation of climate change signal — climate_change_signal","text":"list SpatRasters. .[[1]] contains SpatRasters ensemble mean. .[[2]] contains SpatRasters ensemble sd .[[3]] conins SpatRasters individual models","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/common_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Date selection — common_dates","title":"Date selection — common_dates","text":"automatically select common dates among C4R objects","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/common_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date selection — common_dates","text":"","code":"common_dates(data)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/common_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date selection — common_dates","text":"data list containing C4R objects, outputs loadGridata function","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/ens_trends.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply multivariate linear regression to a multimember grid — ens_trends","title":"Apply multivariate linear regression to a multimember grid — ens_trends","text":"function can used performing annual aggregation multigrid object. applies multivariate linear regression per pixel spatial averages performed spatially aggregated data","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/ens_trends.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply multivariate linear regression to a multimember grid — ens_trends","text":"","code":"ens_trends(c4R)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/ens_trends.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply multivariate linear regression to a multimember grid — ens_trends","text":"array, without spatial averages, dataframe, spatial averages performed","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Models download/upload — load_data","title":"Models download/upload — load_data","text":"Automatically load models (netCDF/NcML) tidy format acess state---art climate models reanalysis datasets","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Models download/upload — load_data","text":"","code":"load_data(   path.to.data,   country,   variable,   xlim = NULL,   ylim = NULL,   years.hist = NULL,   years.proj,   path.to.obs = NULL,   buffer = 0,   domain = NULL,   aggr.m = \"none\",   n.sessions = 6,   years.obs = NULL )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Models download/upload — load_data","text":"path..data NULL, CORDEX-CORE path local data. latter, path directory containing RCP/SSPs folders historical simulations (optional). example, home/user/data/. data contain subfolders climate/impact models. Historical simulations contained folder called historical. path..data set CORDEX-CORE, CORDEX-CORE simulations downloaded country character, English, indicating country interest. select bounding box, set country NULL define arguments xlim ylim variable character indicating variable name xlim numeric length = 2, minimum maximum longitude coordinates, decimal degrees, bounding box interest ylim xlim, selection latitudinal range years.hist NULL numeric, specify year range historical experiment years.proj NULL numeric, specify year range projections path..obs character, default NULL. automatically load W5E5 ERA5, specify W5E5 ERA5. Otherwise, indicate absolute path directory containing another observational dataset buffer numeric, default zero. domain charachter, specify CORDEX-CORE domain (e.g AFR-22, EAS-22). Used path..data = CORDEX-CORE. Default NULL aggr.m character, monthly aggregation. One none, mean sum n.sessions numeric, number sessions use parallel processing. Default 6. Increasing number sessions necessarily results better performances. Leave default unless necessary years.obs NULL numeric, specify year range observation. Specifying years.obs overwrite years.hist observations","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Models download/upload — load_data","text":"list length 3. List[[1]] contains tibble list columns. List[[2]] bbox list[[3]] temporal structure models","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_climate_change_signal.html","id":null,"dir":"Reference","previous_headings":"","what":"Load data and apply climate change signal in spatial chunks — load_data_and_climate_change_signal","title":"Load data and apply climate change signal in spatial chunks — load_data_and_climate_change_signal","text":"Automatically load process climate models memory efficient way. Useful analysing large areas","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_climate_change_signal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load data and apply climate change signal in spatial chunks — load_data_and_climate_change_signal","text":"","code":"load_data_and_climate_change_signal(   variable,   years.hist = NULL,   years.proj,   path.to.data,   path.to.obs = NULL,   xlim,   ylim,   aggr.m = \"none\",   domain,   chunk.size,   overlap = 0.5,   season,   lowert = NULL,   uppert = NULL,   consecutive = F,   scaling.type = \"additive\",   duration = \"max\",   bias.correction = F,   n.sessions = 1 )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_climate_change_signal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load data and apply climate change signal in spatial chunks — load_data_and_climate_change_signal","text":"variable character indicating variable name years.hist numeric, specify year range historical experiment years.proj numeric, specify year range projections path..data path directory containing RCP/SSPs folders historical simulations (optional). example, home/user/data/. data contain subfolders climate/impact models. Historical simulations contained folder called historical. path..data set CORDEX-CORE, CORDEX-CORE simulations loaded path..obs character, default NULL. automatically load W5E5 ERA5, specify W5E5 ERA5. Otherwise, indicate absolute path directory containing another observational dataset xlim numeric length = 2, minimum maximum longitude coordinates, decimal degrees, bounding box interest ylim xlim, selection latitudinal range aggr.m character, monthly aggregation. One none, mean sum domain charachter, specify CORDEX-CORE domain (e.g AFR-22, EAS-22). Used path..data = CORDEX-CORE. Default NULL chunk.size numeric, indicating number chunks . smaller better working limited RAM. overlap numeric, amount overlap needed create composite. Default 0.5 season numeric, seasons select. example, 1:12 lowert numeric length=1, lower threshold uppert numeric length=1, upper threshold consecutive logical, use conjunction lowert uppert duration character, either \"max\" \"total\" bias.correction logical n.sessions numeric, number sessions use parallel processing. Default 6. Increasing number sessions necessarily results better performances. Leave default unless necessary","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_climate_change_signal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load data and apply climate change signal in spatial chunks — load_data_and_climate_change_signal","text":"list SpatRasters. .[[1]] contains SpatRaster ensemble mean. .[[2]] contains SpatRaster ensemble sd .[[3]] contains SpatRaster individual models","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_projections.html","id":null,"dir":"Reference","previous_headings":"","what":"Load data and apply projections in spatial chunks — load_data_and_projections","title":"Load data and apply projections in spatial chunks — load_data_and_projections","text":"Automatically load process climate model projections memory efficient way. Useful analysing large areas","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_projections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load data and apply projections in spatial chunks — load_data_and_projections","text":"","code":"load_data_and_projections(   variable,   years.hist = NULL,   years.proj,   path.to.data,   path.to.obs = NULL,   xlim,   ylim,   aggr.m = \"none\",   chunk.size,   overlap = 0.25,   season,   lowert = NULL,   uppert = NULL,   consecutive = F,   duration = \"max\",   bias.correction = F,   domain = NULL,   n.sessions = 1 )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_projections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load data and apply projections in spatial chunks — load_data_and_projections","text":"variable character, indicating variable name years.hist Numerical range, years select historical simulations observations years.proj Numerical range, years select projections path..data path directory containing RCP/SSPs folders historical simulations (optional). example, home/user/data/. data contain subfolders climate/impact models. Historical simulations contained folder called historical. path..data set CORDEX-CORE, CORDEX-CORE simulations RCM RegCM4 loaded path..obs Default NULL, , indicate absolute path directory containing reanalysis dataset, example ERA5. automatically load W5E5. specify W5E5 xlim numeric length = 2, minimum maximum longitude coordinates, decimal degrees, bounding box selected. ylim xlim, selection latitudinal range. aggr.m character, monthly aggregation. One none, mean sum chunk.size numeric, indicating number chunks. smaller better working limited RAM overlap numeric, amount overlap needed create composite. Default 0.5 season numeric, seasons select. example, 1:12 lowert numeric length=1, lower threshold uppert numeric length=1, upper threshold consecutive logical, use conjunction lowert uppert duration character, either \"max\" \"total\" bias.correction logical domain specify CORDEX-CORE domain (e.g AFR-22, EAS-22). Used path..data = CORDEX-CORE. Default NULL n.sessions numeric, number sessions use, default one. Parallelisation can useful multiple scenarios used (RCPS, SSPs). However, note parallelising increase RAM usage","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_projections.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load data and apply projections in spatial chunks — load_data_and_projections","text":"list SpatRaster. .[[1]] contains SpatRaster ensemble mean. .[[2]] contains SpatRaster ensemble sd .[[3]] conins SpatRaster individual models","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_trends.html","id":null,"dir":"Reference","previous_headings":"","what":"Load data and apply trends in spatial chunks — load_data_and_trends","title":"Load data and apply trends in spatial chunks — load_data_and_trends","text":"Automatically load process climate model projections memory efficient way. Useful analysing large areas. Arguments historical country available function.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_trends.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load data and apply trends in spatial chunks — load_data_and_trends","text":"","code":"load_data_and_trends(   variable,   years.hist = NULL,   years.proj,   path.to.data,   path.to.obs = NULL,   xlim,   ylim,   aggr.m = \"none\",   domain = NULL,   chunk.size,   overlap = 0.5,   season,   lowert = NULL,   uppert = NULL,   consecutive = F,   scaling.type = \"additive\",   duration = \"max\",   bias.correction = F,   intraannual_var = F,   n.sessions = 1 )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_trends.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load data and apply trends in spatial chunks — load_data_and_trends","text":"variable character, indicating variable name years.hist Numerical range, years select historical simulations observations years.proj Numerical range, years select projections path..data path directory containing RCP/SSPs folders historical simulations (optional). example, home/user/data/. data contain subfolders climate/impact models. Historical simulations contained folder called historical. path..data set CORDEX-CORE, CORDEX-CORE simulations RCM RegCM4 loaded path..obs Default NULL, , indicate absolute path directory containing reanalysis dataset, example ERA5. automatically load W5E5. specify W5E5 xlim numeric length = 2, minimum maximum longitude coordinates, decimal degrees, bounding box selected. ylim xlim, selection latitudinal range. aggr.m character, monthly aggregation. One none, mean sum domain specify CORDEX-CORE domain (e.g AFR-22, EAS-22). Used path..data = CORDEX-CORE. Default NULL chunk.size numeric, indicating number chunks. smaller better working limited RAM overlap numeric, amount overlap needed create composite. Default 0.5 season numeric, seasons select. example, 1:12 lowert numeric length=1, lower threshold uppert numeric length=1, upper threshold consecutive logical, use conjunction lowert uppert duration character, either \"max\" \"total\" bias.correction logical intraannual_var logical, whether linear regression applied annual variability, measured standard deviation n.sessions numeric, number sessions use, default one. Parallelisation can useful multiple scenarios used (RCPS, SSPs). However, note parallelising increase RAM usage","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/load_data_and_trends.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load data and apply trends in spatial chunks — load_data_and_trends","text":"list merged raster stacks. explore output run attributes(output)","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/make_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"make a raster — make_raster","title":"make a raster — make_raster","text":"Make spatRaster C4R list dim(Data)=2","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/make_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"make a raster — make_raster","text":"","code":"make_raster(cl4.object)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/make_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"make a raster — make_raster","text":"cl4.object C4R list Data slot two dimension","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/make_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"make a raster — make_raster","text":"spatRaster","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/models_trends.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply linear regression to each member of multimember grid — models_trends","title":"Apply linear regression to each member of multimember grid — models_trends","text":"function can used performing annual aggregation multigrid object. applies linear regression per pixel spatial averages performed spatially aggregated data.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/models_trends.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply linear regression to each member of multimember grid — models_trends","text":"","code":"models_trends(c4R, observation = F)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/models_trends.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply linear regression to each member of multimember grid — models_trends","text":"array, without spatial averages, dataframe, spatial averages performed","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/observations.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis of observations-historical period — observations","title":"Analysis of observations-historical period — observations","text":"Automatically process observational period compute user-defined indicators","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/observations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis of observations-historical period — observations","text":"","code":"observations(   data,   uppert = NULL,   lowert = NULL,   season,   consecutive = F,   duration = \"max\" )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/observations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis of observations-historical period — observations","text":"data output load_data uppert numeric length=1, upper threshold lowert numeric length=1, lower threshold season numeric, seasons select. example, 1:12 consecutive logical, use conjunction lowert uppert duration character, either \"max\" \"total\". Used consecutive TRUE","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/observations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis of observations-historical period — observations","text":"list SpatRaster. .[[1]]","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/plotting.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize results — plotting","title":"Visualize results — plotting","text":"Automatically plot results CAVAanalytics main functions","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/plotting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize results — plotting","text":"","code":"plotting(   rst,   palette,   legend_range,   plot_titles,   ensemble,   bins,   n.bins,   alpha,   ... )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/plotting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize results — plotting","text":"rst output one CAVAanalytics functions, projections. rst class SpatRaster palette charachter. Color Palette legend_range numeric. Fix legend limits plot_titles character. Title plot legend ensemble logical. Whether visualize ensemble mean individual model bins logical. Whether visualize colors gradient bins n.bins numeric. Controlling number bins bins equal TRUE alpha numeric. Transparency colors","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/plotting.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize results — plotting","text":"ggplot object","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/projections.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis of future projections — projections","title":"Analysis of future projections — projections","text":"Automatically process climate model projections compute useful statistics","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/projections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis of future projections — projections","text":"","code":"projections(   data,   bias.correction = F,   uppert = NULL,   lowert = NULL,   season,   consecutive = F,   n.sessions = 1,   duration = \"max\" )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/projections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis of future projections — projections","text":"data output load_data bias.correction logical uppert numeric length=1, upper threshold lowert numeric length=1, lower threshold season numeric, seasons select. example, 1:12 consecutive logical, use conjunction lowert uppert n.sessions numeric, number sessions use, default one. Parallelization can useful multiple scenarios used (RCPS, SSPs). However, note parallelizing increase RAM usage duration character, either \"max\" \"total\". Used consecutive TRUE","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/projections.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis of future projections — projections","text":"list SpatRaster. .[[1]] contains SpatRaster ensemble mean. .[[2]] contains SpatRaster ensemble sd .[[3]] conins SpatRaster individual models","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculation of thresholds — thrs","title":"Calculation of thresholds — thrs","text":"Calculation number days certain condition. can used aggregateGrid.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculation of thresholds — thrs","text":"","code":"thrs(col, lowert, uppert)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculation of thresholds — thrs","text":"col numeric vector lowert numeric. lower threshold uppert numeric. upper threshold","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculation of thresholds — thrs","text":"numeric length 1","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs_consec.html","id":null,"dir":"Reference","previous_headings":"","what":"Consecutive days — thrs_consec","title":"Consecutive days — thrs_consec","text":"Calculation consecutive days. can used aggregateGrid.","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs_consec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Consecutive days — thrs_consec","text":"","code":"thrs_consec(col, duration, lowert, uppert)"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs_consec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Consecutive days — thrs_consec","text":"col numeric vector duration either \"max\" \"total\". lowert numeric. lower threshold uppert numeric. upper threshold","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/thrs_consec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Consecutive days — thrs_consec","text":"numeric length 1","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/trends.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis of long-term trends — trends","title":"Analysis of long-term trends — trends","text":"Compute multivariate linear regression linear regression design-based inference","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/trends.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis of long-term trends — trends","text":"","code":"trends(   data,   bias.correction = FALSE,   uppert = NULL,   lowert = NULL,   season,   consecutive = FALSE,   duration = \"max\",   intraannual_var = FALSE,   observation = FALSE,   n.sessions = 1 )"},{"path":"https://risk-team.github.io/CAVAanalytics/reference/trends.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis of long-term trends — trends","text":"data output load_data bias.correction logical, whether perform bias.correction uppert numeric length=1, upper threshold lowert numeric length=1, lower threshold season numeric, seasons select. example, 1:12 consecutive logical, use conjunction lowert uppert duration character, either \"max\" \"total\" intraannual_var logical, whether linear regression applied annual variability, measured standard deviation observation logical, whether visualize trends observational dataset projections n.sessions numeric, number sessions use, default one. Parallelisation can useful multiple scenarios used (RCPS, SSPs). However, note parallelising increase RAM usage","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/reference/trends.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis of long-term trends — trends","text":"list SpatRaster. explore output run attributes(output)","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/news/index.html","id":"cavaanalytics-112","dir":"Changelog","previous_headings":"","what":"CAVAanalytics 1.1.2","title":"CAVAanalytics 1.1.2","text":"Changed appearance temporal trends spatial.aggr=T Made resulting ggplot object plotting easily customizable","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/news/index.html","id":"cavaanalytics-111","dir":"Changelog","previous_headings":"","what":"CAVAanalytics 1.1.1","title":"CAVAanalytics 1.1.1","text":"Improved clarity trends function replacing historical argument observation added warning message cross year season selected (e.g c(11,12,1))","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/news/index.html","id":"cavaanalytics-110","dir":"Changelog","previous_headings":"","what":"CAVAanalytics 1.1.0","title":"CAVAanalytics 1.1.0","text":"Improved speed load_data improved flexibility (e.g observation can uploaded without projections) Fixed x scale plotting frequencies = T Added function observations visualize observational dataset","code":""},{"path":"https://risk-team.github.io/CAVAanalytics/news/index.html","id":"cavaanalytics-100","dir":"Changelog","previous_headings":"","what":"CAVAanalytics 1.0.0","title":"CAVAanalytics 1.0.0","text":"Moved sp raster sf terra Moved normal messages cli messages Improved documentation","code":""}]
